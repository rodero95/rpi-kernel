<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_otg_pcd_if.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dwc_otg_pcd_if.h</h1><a href="dwc__otg__pcd__if_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/* ==========================================================================</span>
00002 <span class="comment"> * $File: //dwh/usb_iip/dev/software/otg/linux/drivers/dwc_otg_pcd_if.h $</span>
00003 <span class="comment"> * $Revision: #11 $</span>
00004 <span class="comment"> * $Date: 2011/10/26 $</span>
00005 <span class="comment"> * $Change: 1873028 $</span>
00006 <span class="comment"> *</span>
00007 <span class="comment"> * Synopsys HS OTG Linux Software Driver and documentation (hereinafter,</span>
00008 <span class="comment"> * "Software") is an Unsupported proprietary work of Synopsys, Inc. unless</span>
00009 <span class="comment"> * otherwise expressly agreed to in writing between Synopsys and you.</span>
00010 <span class="comment"> *</span>
00011 <span class="comment"> * The Software IS NOT an item of Licensed Software or Licensed Product under</span>
00012 <span class="comment"> * any End User Software License Agreement or Agreement for Licensed Product</span>
00013 <span class="comment"> * with Synopsys or any supplement thereto. You are permitted to use and</span>
00014 <span class="comment"> * redistribute this Software in source and binary forms, with or without</span>
00015 <span class="comment"> * modification, provided that redistributions of source code must retain this</span>
00016 <span class="comment"> * notice. You may not view, use, disclose, copy or distribute this file or</span>
00017 <span class="comment"> * any information contained herein except pursuant to this license grant from</span>
00018 <span class="comment"> * Synopsys. If you do not agree with this notice, including the disclaimer</span>
00019 <span class="comment"> * below, then you are not authorized to use the Software.</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * THIS SOFTWARE IS BEING DISTRIBUTED BY SYNOPSYS SOLELY ON AN "AS IS" BASIS</span>
00022 <span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
00023 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
00024 <span class="comment"> * ARE HEREBY DISCLAIMED. IN NO EVENT SHALL SYNOPSYS BE LIABLE FOR ANY DIRECT,</span>
00025 <span class="comment"> * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
00026 <span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
00027 <span class="comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
00028 <span class="comment"> * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span>
00029 <span class="comment"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span>
00030 <span class="comment"> * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
00031 <span class="comment"> * DAMAGE.</span>
00032 <span class="comment"> * ========================================================================== */</span>
00033 <span class="preprocessor">#ifndef DWC_HOST_ONLY</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#if !defined(__DWC_PCD_IF_H__)</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#define __DWC_PCD_IF_H__</span>
00037 <span class="preprocessor"></span>
00038 <span class="comment">//#include "dwc_os.h"</span>
00039 <span class="preprocessor">#include "<a class="code" href="dwc__otg__core__if_8h.html">dwc_otg_core_if.h</a>"</span>
00040 
00045 <span class="keyword">struct </span><a class="code" href="structdwc__otg__pcd.html">dwc_otg_pcd</a>;
00046 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdwc__otg__pcd.html">dwc_otg_pcd</a> dwc_otg_pcd_t;
00047 
<a name="l00049"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a1">00049</a> <span class="preprocessor">#define MAX_EP0_SIZE    64</span>
00050 <span class="preprocessor"></span>
<a name="l00051"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a2">00051</a> <span class="preprocessor">#define MAX_PACKET_SIZE 1024</span>
00052 <span class="preprocessor"></span>
<a name="l00061"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a4">00061</a> <span class="keyword">typedef</span> int (*dwc_completion_cb_t) (dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00062                                     <span class="keywordtype">void</span> *req_handle, int32_t status,
00063                                     uint32_t actual);
<a name="l00071"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a5">00071</a> <span class="keyword">typedef</span> int (*dwc_isoc_completion_cb_t) (dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00072                                          <span class="keywordtype">void</span> *req_handle, <span class="keywordtype">int</span> proc_buf_num);
<a name="l00081"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a6">00081</a> <span class="keyword">typedef</span> int (*dwc_setup_cb_t) (dwc_otg_pcd_t * pcd, uint8_t * bytes);
<a name="l00086"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a7">00086</a> <span class="keyword">typedef</span> int (*dwc_disconnect_cb_t) (dwc_otg_pcd_t * pcd);
<a name="l00088"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a8">00088</a> <span class="keyword">typedef</span> int (*dwc_connect_cb_t) (dwc_otg_pcd_t * pcd, <span class="keywordtype">int</span> speed);
<a name="l00090"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a9">00090</a> <span class="keyword">typedef</span> int (*dwc_suspend_cb_t) (dwc_otg_pcd_t * pcd);
<a name="l00093"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a10">00093</a> <span class="keyword">typedef</span> int (*dwc_sleep_cb_t) (dwc_otg_pcd_t * pcd);
<a name="l00096"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a11">00096</a> <span class="keyword">typedef</span> int (*dwc_resume_cb_t) (dwc_otg_pcd_t * pcd);
<a name="l00100"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a12">00100</a> <span class="keyword">typedef</span> int (*dwc_hnp_params_changed_cb_t) (dwc_otg_pcd_t * pcd);
<a name="l00102"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a13">00102</a> <span class="keyword">typedef</span> int (*dwc_reset_cb_t) (dwc_otg_pcd_t * pcd);
00103 
00104 <span class="keyword">typedef</span> int (*cfi_setup_cb_t) (dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ctrl_req_bytes);
00105 
<a name="l00112"></a><a class="code" href="dwc__otg__pcd__if_8h.html#a15">00112</a> <span class="keyword">typedef</span> int (*xiso_completion_cb_t) (dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00113                                      <span class="keywordtype">void</span> *req_handle, int32_t status,
00114                                      <span class="keywordtype">void</span> *ereq_port);
<a name="l00116"></a><a class="code" href="structdwc__otg__pcd__function__ops.html">00116</a> <span class="keyword">struct </span><a class="code" href="structdwc__otg__pcd__function__ops.html">dwc_otg_pcd_function_ops</a> {
00117         <a class="code" href="dwc__otg__pcd__if_8h.html#a8">dwc_connect_cb_t</a> connect;
00118         <a class="code" href="dwc__otg__pcd__if_8h.html#a7">dwc_disconnect_cb_t</a> disconnect;
00119         <a class="code" href="dwc__otg__pcd__if_8h.html#a6">dwc_setup_cb_t</a> setup;
00120         <a class="code" href="dwc__otg__pcd__if_8h.html#a4">dwc_completion_cb_t</a> complete;
00121         <a class="code" href="dwc__otg__pcd__if_8h.html#a5">dwc_isoc_completion_cb_t</a> isoc_complete;
00122         <a class="code" href="dwc__otg__pcd__if_8h.html#a9">dwc_suspend_cb_t</a> suspend;
00123         <a class="code" href="dwc__otg__pcd__if_8h.html#a10">dwc_sleep_cb_t</a> sleep;
00124         <a class="code" href="dwc__otg__pcd__if_8h.html#a11">dwc_resume_cb_t</a> resume;
00125         <a class="code" href="dwc__otg__pcd__if_8h.html#a13">dwc_reset_cb_t</a> reset;
00126         <a class="code" href="dwc__otg__pcd__if_8h.html#a12">dwc_hnp_params_changed_cb_t</a> hnp_changed;
00127         cfi_setup_cb_t cfi_setup;
00128 <span class="preprocessor">#ifdef DWC_UTE_PER_IO</span>
00129 <span class="preprocessor"></span>        <a class="code" href="dwc__otg__pcd__if_8h.html#a15">xiso_completion_cb_t</a> xisoc_complete;
00130 <span class="preprocessor">#endif</span>
00131 <span class="preprocessor"></span>};
00142 <span class="keyword">extern</span> dwc_otg_pcd_t *<a class="code" href="dwc__otg__pcd__if_8h.html#a16">dwc_otg_pcd_init</a>(<a class="code" href="structdwc__otg__core__if.html">dwc_otg_core_if_t</a> * core_if);
00143 
00148 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a17">dwc_otg_pcd_remove</a>(dwc_otg_pcd_t * pcd);
00149 
00155 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a18">dwc_otg_pcd_start</a>(dwc_otg_pcd_t * pcd,
00156                               <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structdwc__otg__pcd__function__ops.html">dwc_otg_pcd_function_ops</a> *fops);
00157 
00173 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a19">dwc_otg_pcd_ep_enable</a>(dwc_otg_pcd_t * pcd,
00174                                  <span class="keyword">const</span> uint8_t * ep_desc, <span class="keywordtype">void</span> *usb_ep);
00175 
00181 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a20">dwc_otg_pcd_ep_disable</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle);
00182 
00201 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a21">dwc_otg_pcd_ep_queue</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00202                                 uint8_t * buf, dwc_dma_t dma_buf,
00203                                 uint32_t buflen, <span class="keywordtype">int</span> zero, <span class="keywordtype">void</span> *req_handle,
00204                                 <span class="keywordtype">int</span> atomic_alloc);
00205 <span class="preprocessor">#ifdef DWC_UTE_PER_IO</span>
00206 <span class="preprocessor"></span>
00211 <span class="keyword">extern</span> <span class="keywordtype">int</span> dwc_otg_pcd_xiso_ep_queue(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00212                                      uint8_t * buf, dwc_dma_t dma_buf,
00213                                      uint32_t buflen, <span class="keywordtype">int</span> zero,
00214                                      <span class="keywordtype">void</span> *req_handle, <span class="keywordtype">int</span> atomic_alloc,
00215                                      <span class="keywordtype">void</span> *ereq_nonport);
00216 
00217 <span class="preprocessor">#endif</span>
00218 <span class="preprocessor"></span>
00224 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a22">dwc_otg_pcd_ep_dequeue</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00225                                   <span class="keywordtype">void</span> *req_handle);
00226 
00233 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a23">dwc_otg_pcd_ep_halt</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle, <span class="keywordtype">int</span> value);
00234 
00236 <span class="keyword">extern</span> int32_t <a class="code" href="dwc__otg__pcd__intr_8c.html#a63">dwc_otg_pcd_handle_intr</a>(dwc_otg_pcd_t * pcd);
00237 
00239 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a25">dwc_otg_pcd_get_frame_number</a>(dwc_otg_pcd_t * pcd);
00240 
00267 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a26">dwc_otg_pcd_iso_ep_start</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00268                                     uint8_t * buf0, uint8_t * buf1,
00269                                     dwc_dma_t dma0, dwc_dma_t dma1,
00270                                     <span class="keywordtype">int</span> sync_frame, <span class="keywordtype">int</span> dp_frame,
00271                                     <span class="keywordtype">int</span> data_per_frame, <span class="keywordtype">int</span> start_frame,
00272                                     <span class="keywordtype">int</span> buf_proc_intrvl, <span class="keywordtype">void</span> *req_handle,
00273                                     <span class="keywordtype">int</span> atomic_alloc);
00274 
00284 <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a27">dwc_otg_pcd_iso_ep_stop</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *ep_handle,
00285                             <span class="keywordtype">void</span> *req_handle);
00286 
00298 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a28">dwc_otg_pcd_get_iso_packet_params</a>(dwc_otg_pcd_t * pcd,
00299                                               <span class="keywordtype">void</span> *ep_handle,
00300                                               <span class="keywordtype">void</span> *iso_req_handle, <span class="keywordtype">int</span> packet,
00301                                               <span class="keywordtype">int</span> *status, <span class="keywordtype">int</span> *actual,
00302                                               <span class="keywordtype">int</span> *offset);
00303 
00310 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a29">dwc_otg_pcd_get_iso_packet_count</a>(dwc_otg_pcd_t * pcd,
00311                                             <span class="keywordtype">void</span> *ep_handle,
00312                                             <span class="keywordtype">void</span> *iso_req_handle);
00313 
00318 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a30">dwc_otg_pcd_wakeup</a>(dwc_otg_pcd_t * pcd);
00319 
00321 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a31">dwc_otg_pcd_is_lpm_enabled</a>(dwc_otg_pcd_t * pcd);
00322 
00324 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a32">dwc_otg_pcd_get_rmwkup_enable</a>(dwc_otg_pcd_t * pcd);
00325 
00327 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a33">dwc_otg_pcd_initiate_srp</a>(dwc_otg_pcd_t * pcd);
00328 
00330 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a34">dwc_otg_pcd_remote_wakeup</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">int</span> set);
00331 
00333 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="dwc__otg__pcd__if_8h.html#a35">dwc_otg_pcd_disconnect_us</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">int</span> no_of_usecs);
00335 <span class="keyword">extern</span> uint32_t <a class="code" href="dwc__otg__pcd__if_8h.html#a36">dwc_otg_pcd_is_dualspeed</a>(dwc_otg_pcd_t * pcd);
00336 
00338 <span class="keyword">extern</span> uint32_t <a class="code" href="dwc__otg__pcd__if_8h.html#a37">dwc_otg_pcd_is_otg</a>(dwc_otg_pcd_t * pcd);
00339 
00341 <span class="keyword">extern</span> uint32_t <a class="code" href="dwc__otg__pcd__if_8h.html#a38">get_b_hnp_enable</a>(dwc_otg_pcd_t * pcd);
00342 <span class="keyword">extern</span> uint32_t get_a_hnp_support(dwc_otg_pcd_t * pcd);
00343 <span class="keyword">extern</span> uint32_t get_a_alt_hnp_support(dwc_otg_pcd_t * pcd);
00344 
00347 <span class="keyword">extern</span> uint8_t *<a class="code" href="dwc__otg__pcd__if_8h.html#a41">cfiw_ep_alloc_buffer</a>(dwc_otg_pcd_t * pcd, <span class="keywordtype">void</span> *pep,
00348                                      dwc_dma_t * addr, size_t buflen,
00349                                      <span class="keywordtype">int</span> flags);
00350 
00351 <span class="comment">/******************************************************************************/</span>
00352 
00355 <span class="preprocessor">#endif                          </span><span class="comment">/* __DWC_PCD_IF_H__ */</span>
00356 
00357 <span class="preprocessor">#endif                          </span><span class="comment">/* DWC_HOST_ONLY */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Oct 27 03:56:37 2011 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>

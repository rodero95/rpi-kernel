<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_ep Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dwc_ep Struct Reference</h1>The <code>dwc_ep</code> structure represents the state of a single endpoint when acting in device mode.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o0" doxytag="dwc_ep::num"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o0">num</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EP number used for register address lookup. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o1" doxytag="dwc_ep::is_in"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o1">is_in</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EP direction 0 = OUT. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o2" doxytag="dwc_ep::active"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o2">active</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EP active. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o3">tx_fifo_num</a>:4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Periodic Tx FIFO # for IN EPs For INTR EP set to 0 to use non-periodic Tx FIFO.  <a href="#o3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o4" doxytag="dwc_ep::type"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o4">type</a>:2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">EP type: 0 - Control, 1 - ISOC, 2 - BULK, 3 - INTR. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o5" doxytag="dwc_ep::data_pid_start"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o5">data_pid_start</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DATA start PID for INTR and BULK EP. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o6" doxytag="dwc_ep::even_odd_frame"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o6">even_odd_frame</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame (even/odd) for ISOC EP. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o7" doxytag="dwc_ep::maxpacket"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o7">maxpacket</a>:11</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Max Packet bytes. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o8" doxytag="dwc_ep::maxxfer"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#o8">maxxfer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Max Transfer size. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Transfer state</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_0">dma_addr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the beginning of the transfer buffer -- do not modify during transfer.  <a href="#z32_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_1" doxytag="dwc_ep::dma_desc_addr"></a>
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dma_desc_addr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_2" doxytag="dwc_ep::desc_addr"></a>
<a class="el" href="structdwc__otg__dev__dma__desc.html">dwc_otg_dev_dma_desc_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>desc_addr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_3" doxytag="dwc_ep::start_xfer_buff"></a>
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>start_xfer_buff</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_4" doxytag="dwc_ep::xfer_buff"></a>
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_4">xfer_buff</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the transfer buffer <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_5" doxytag="dwc_ep::xfer_len"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_5">xfer_len</a>:19</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes to transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_6" doxytag="dwc_ep::xfer_count"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_6">xfer_count</a>:19</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes transferred. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_7" doxytag="dwc_ep::sent_zlp"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_7">sent_zlp</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sent ZLP. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_8" doxytag="dwc_ep::total_len"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_8">total_len</a>:19</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total len for control transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_9" doxytag="dwc_ep::stall_clear_flag"></a>
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_9">stall_clear_flag</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">stall clear flag <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_10" doxytag="dwc_ep::desc_cnt"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_10">desc_cnt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocated DMA Desc count. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_11" doxytag="dwc_ep::bInterval"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_11">bInterval</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">bInterval <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_12" doxytag="dwc_ep::frame_num"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_12">frame_num</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Next frame num to setup next ISOC transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_13" doxytag="dwc_ep::frm_overrun"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_13">frm_overrun</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates SOF number overrun in DSTS. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_14" doxytag="dwc_ep::dma_addr0"></a>
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_14">dma_addr0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DMA addresses of ISOC buffers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_15" doxytag="dwc_ep::dma_addr1"></a>
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dma_addr1</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_16" doxytag="dwc_ep::iso_dma_desc_addr"></a>
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>iso_dma_desc_addr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_17" doxytag="dwc_ep::iso_desc_addr"></a>
<a class="el" href="structdwc__otg__dev__dma__desc.html">dwc_otg_dev_dma_desc_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>iso_desc_addr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_18" doxytag="dwc_ep::xfer_buff0"></a>
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_18">xfer_buff0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the transfer buffers <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_19" doxytag="dwc_ep::xfer_buff1"></a>
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>xfer_buff1</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_20" doxytag="dwc_ep::proc_buf_num"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_20">proc_buf_num</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of ISOC Buffer is processing <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_21" doxytag="dwc_ep::buf_proc_intrvl"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_21">buf_proc_intrvl</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interval of ISOC Buffer processing. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_22" doxytag="dwc_ep::data_per_frame"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_22">data_per_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data size for regular frame. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_23" doxytag="dwc_ep::data_pattern_frame"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_23">data_pattern_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data size for pattern frame. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_24" doxytag="dwc_ep::sync_frame"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_24">sync_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame number of pattern data. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_25" doxytag="dwc_ep::pkt_per_frm"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_25">pkt_per_frm</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ISO Packet number per frame. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_26" doxytag="dwc_ep::next_frame"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_26">next_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Next frame num for which will be setup DMA Desc. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_27" doxytag="dwc_ep::pkt_cnt"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_27">pkt_cnt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of packets per buffer processing. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_28" doxytag="dwc_ep::pkt_info"></a>
<a class="el" href="structiso__pkt__info.html">iso_pkt_info_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_28">pkt_info</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Info for all isoc packets. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_29" doxytag="dwc_ep::cur_pkt"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_29">cur_pkt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current pkt number <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_30" doxytag="dwc_ep::cur_pkt_addr"></a>
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_30">cur_pkt_addr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current pkt number <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z32_31" doxytag="dwc_ep::cur_pkt_dma_addr"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__ep.html#z32_31">cur_pkt_dma_addr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current pkt number <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <code>dwc_ep</code> structure represents the state of a single endpoint when acting in device mode. 
<p>
It contains the data items needed for an endpoint to be activated and transfer packets. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__cil_8h-source.html#l00092">92</a> of file <a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a>.<hr><h2>Field Documentation</h2>
<a class="anchor" name="o3" doxytag="dwc_ep::tx_fifo_num"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned <a class="el" href="structdwc__ep.html#o3">dwc_ep::tx_fifo_num</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Periodic Tx FIFO # for IN EPs For INTR EP set to 0 to use non-periodic Tx FIFO. 
<p>
If dedicated Tx FIFOs are enabled Tx FIFO # FOR IN EPs 
<p>
Definition at line <a class="el" href="dwc__otg__cil_8h-source.html#l00103">103</a> of file <a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z32_0" doxytag="dwc_ep::dma_addr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">dwc_dma_t <a class="el" href="structdwc__ep.html#z32_0">dwc_ep::dma_addr</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to the beginning of the transfer buffer -- do not modify during transfer. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__cil_8h-source.html#l00129">129</a> of file <a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 27 03:56:38 2011 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>

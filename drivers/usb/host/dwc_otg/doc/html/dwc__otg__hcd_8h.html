<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_otg_hcd.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dwc_otg_hcd.h File Reference</h1>This file contains the structures, constants, and interfaces for the Host Contoller Driver (HCD). <a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="dwc__otg__os__dep_8h-source.html">dwc_otg_os_dep.h</a>"</code><br>
<code>#include "usb.h"</code><br>
<code>#include "<a class="el" href="dwc__otg__hcd__if_8h-source.html">dwc_otg_hcd_if.h</a>"</code><br>
<code>#include "<a class="el" href="dwc__otg__core__if_8h-source.html">dwc_otg_core_if.h</a>"</code><br>
<code>#include "dwc_list.h"</code><br>
<code>#include "<a class="el" href="dwc__otg__cil_8h-source.html">dwc_otg_cil.h</a>"</code><br>

<p>
<a href="dwc__otg__hcd_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_pipe_info</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_iso_packet_desc</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_urb</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Queue Transfer Descriptor (QTD) holds the state of a bulk, control, interrupt, or isochronous transfer.  <a href="structdwc__otg__qtd.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Queue Head (QH) holds the static characteristics of an endpoint and maintains a list of transfers (QTDs) for that endpoint.  <a href="structdwc__otg__qh.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure holds the state of the HCD, including the non-periodic and periodic schedules.  <a href="structdwc__otg__hcd.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uniondwc__otg__hcd_1_1dwc__otg__hcd__internal__flags.html">dwc_otg_hcd::dwc_otg_hcd_internal_flags</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal DWC HCD Flags.  <a href="uniondwc__otg__hcd_1_1dwc__otg__hcd__internal__flags.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Transaction Execution Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dwc__otg__hcd_8h.html#a8">dwc_otg_transaction_type_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a31">dwc_otg_hcd_select_transactions</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function selects transactions from the HCD transfer schedule and assigns them to available host channels.  <a href="#a31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a32">dwc_otg_hcd_queue_transactions</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="dwc__otg__hcd_8h.html#a8">dwc_otg_transaction_type_e</a> tr_type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function processes the currently active host channels and queues transactions for these channels to the DWC_otg controller.  <a href="#a32"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Interrupt Handler Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a33">dwc_otg_hcd_handle_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function handles interrupts for the HCD.  <a href="#a33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a34">dwc_otg_hcd_handle_sof_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the start-of-frame interrupt in host mode.  <a href="#a34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a35">dwc_otg_hcd_handle_rx_status_q_level_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the Rx Status Queue Level Interrupt, which indicates that there is at least one packet in the Rx FIFO.  <a href="#a35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a36">dwc_otg_hcd_handle_np_tx_fifo_empty_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This interrupt occurs when the non-periodic Tx FIFO is half-empty.  <a href="#a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a37">dwc_otg_hcd_handle_perio_tx_fifo_empty_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This interrupt occurs when the periodic Tx FIFO is half-empty.  <a href="#a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a38" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_incomplete_periodic_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_handle_incomplete_periodic_intr</b> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a39">dwc_otg_hcd_handle_port_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">There are multiple conditions that can cause a port interrupt.  <a href="#a39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a40" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_conn_id_status_change_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_handle_conn_id_status_change_intr</b> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a41" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_disconnect_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_handle_disconnect_intr</b> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a42">dwc_otg_hcd_handle_hc_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This interrupt indicates that one or more host channels has a pending interrupt.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a43" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_hc_n_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a43">dwc_otg_hcd_handle_hc_n_intr</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>, uint32_t num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles interrupt for a specific Host Channel. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a44" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_session_req_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_handle_session_req_intr</b> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a45" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_wakeup_detected_intr"></a>
int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_handle_wakeup_detected_intr</b> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td colspan="2"><br><h2>Schedule Queue Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a46">dwc_otg_hcd_qh_create</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, dwc_otg_hcd_urb_t *urb, int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function allocates and initializes a QH.  <a href="#a46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a47">dwc_otg_hcd_qh_free</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free each QTD in the QH's QTD-list then free the QH.  <a href="#a47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a48">dwc_otg_hcd_qh_add</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function adds a QH to either the non periodic or periodic schedule if it is not already in the schedule.  <a href="#a48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a49">dwc_otg_hcd_qh_remove</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a QH from either the non-periodic or periodic schedule.  <a href="#a49"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a50">dwc_otg_hcd_qh_deactivate</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh, int sched_csplit)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivates a QH.  <a href="#a50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a51" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_remove_and_free"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a51">dwc_otg_hcd_qh_remove_and_free</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove and free a QH. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a52">dwc_otg_hcd_qh_alloc</a> (int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory for a QH structure.  <a href="#a52"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a53">dwc_otg_hcd_qtd_create</a> (dwc_otg_hcd_urb_t *urb, int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function allocates and initializes a QTD.  <a href="#a53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a54">dwc_otg_hcd_qtd_init</a> (<a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd, dwc_otg_hcd_urb_t *urb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a QTD structure.  <a href="#a54"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a55">dwc_otg_hcd_qtd_add</a> (<a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd, <a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> **qh, int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function adds a QTD to the QTD-list of a QH.  <a href="#a55"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a56">dwc_otg_hcd_qtd_alloc</a> (int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory for a QTD structure.  <a href="#a56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a57">dwc_otg_hcd_qtd_free</a> (<a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees the memory for a QTD structure.  <a href="#a57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a58">dwc_otg_hcd_qtd_remove</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a QTD from list.  <a href="#a58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a59" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_remove_and_free"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a59">dwc_otg_hcd_qtd_remove_and_free</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove and free a QTD Need to disable IRQ and hold hcd lock while calling this function out of interrupt servicing chain. <br></td></tr>
<tr><td colspan="2"><br><h2>Descriptor DMA Supporting Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a60">dwc_otg_hcd_start_xfer_ddma</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For Control and Bulk endpoints initializes descriptor list and starts the transfer.  <a href="#a60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a61">dwc_otg_hcd_complete_xfer_ddma</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__hc.html">dwc_hc_t</a> *hc, <a class="el" href="structdwc__otg__hc__regs.html">dwc_otg_hc_regs_t</a> *hc_regs, dwc_otg_halt_status_e halt_status)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called from interrupt handlers.  <a href="#a61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a62">dwc_otg_hcd_qh_init_ddma</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a QH structure's Descriptor DMA related members.  <a href="#a62"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a63">dwc_otg_hcd_qh_free_ddma</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees descriptor list memory associated with the QH.  <a href="#a63"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Internal Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a64" doxytag="dwc_otg_hcd.h::dwc_urb_to_qh"></a>
<a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_urb_to_qh</b> (dwc_otg_hcd_urb_t *urb)</td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="dwc_otg_hcd.h::DWC_OTG_HCD_STATUS_BUF_SIZE"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DWC_OTG_HCD_STATUS_BUF_SIZE</b>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1" doxytag="dwc_otg_hcd.h::dwc_list_to_qh"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a1">dwc_list_to_qh</a>(_list_head_ptr_)&nbsp;&nbsp;&nbsp;container_of(_list_head_ptr_, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a>, qh_list_entry)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the QH that contains the list_head. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="dwc_otg_hcd.h::dwc_list_to_qtd"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a2">dwc_list_to_qtd</a>(_list_head_ptr_)&nbsp;&nbsp;&nbsp;container_of(_list_head_ptr_, <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a>, qtd_list_entry)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the QTD that contains the list_head. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a3">dwc_qh_is_non_per</a>(_qh_ptr_)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if QH is non-periodic.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="dwc_otg_hcd.h::dwc_hb_mult"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a4">dwc_hb_mult</a>(wMaxPacketSize)&nbsp;&nbsp;&nbsp;(1 + (((wMaxPacketSize) &gt;&gt; 11) &amp; 0x03))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">High bandwidth multiplier as encoded in highspeed endpoint descriptors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="dwc_otg_hcd.h::dwc_max_packet"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a5">dwc_max_packet</a>(wMaxPacketSize)&nbsp;&nbsp;&nbsp;((wMaxPacketSize) &amp; 0x07ff)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Packet size for any kind of endpoint descriptor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6" doxytag="dwc_otg_hcd.h::dwc_sample_frrem"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_sample_frrem</b>(_hcd, _qh, _letter)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7" doxytag="dwc_otg_hcd.h::dwc_otg_control_phase_e"></a>
typedef enum <a class="el" href="dwc__otg__hcd_8h.html#a71">dwc_otg_control_phase</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a7">dwc_otg_control_phase_e</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Phases for control transfers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a8" doxytag="dwc_otg_hcd.h::dwc_otg_transaction_type_e"></a>
typedef enum <a class="el" href="dwc__otg__hcd_8h.html#a72">dwc_otg_transaction_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a8">dwc_otg_transaction_type_e</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transaction types. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a9">dwc_otg_qtd_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Queue Transfer Descriptor (QTD) holds the state of a bulk, control, interrupt, or isochronous transfer.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a10">dwc_otg_qh_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Queue Head (QH) holds the static characteristics of an endpoint and maintains a list of transfers (QTDs) for that endpoint.  <a href="#a10"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a71">dwc_otg_control_phase</a> { <b>DWC_OTG_CONTROL_SETUP</b>, 
<b>DWC_OTG_CONTROL_DATA</b>, 
<b>DWC_OTG_CONTROL_STATUS</b>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Phases for control transfers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a72">dwc_otg_transaction_type</a> { <b>DWC_OTG_TRANSACTION_NONE</b>, 
<b>DWC_OTG_TRANSACTION_PERIODIC</b>, 
<b>DWC_OTG_TRANSACTION_NON_PERIODIC</b>, 
<b>DWC_OTG_TRANSACTION_ALL</b>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transaction types. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a18" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_get_ep_num"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_get_ep_num</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a19" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_get_pipe_type"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_get_pipe_type</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a20" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_get_mps"></a>
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_get_mps</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a21" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_get_dev_addr"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_get_dev_addr</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a22" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_isoc"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_isoc</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a23" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_int"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_int</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a24" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_bulk"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_bulk</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a25" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_control"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_control</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a26" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_in"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_in</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a27" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_is_pipe_out"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_is_pipe_out</b> (struct dwc_otg_hcd_pipe_info *pipe)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a28" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_fill_pipe"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_fill_pipe</b> (struct dwc_otg_hcd_pipe_info *pipe, uint8_t devaddr, uint8_t ep_num, uint8_t pipe_type, uint8_t pipe_dir, uint16_t mps)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a29" doxytag="dwc_otg_hcd.h::DWC_CIRCLEQ_HEAD"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>DWC_CIRCLEQ_HEAD</b> (dwc_otg_qtd_list, <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a30" doxytag="dwc_otg_hcd.h::DWC_CIRCLEQ_HEAD"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><b>DWC_CIRCLEQ_HEAD</b> (hc_list, <a class="el" href="structdwc__hc.html">dwc_hc</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a65">dwc_frame_num_le</a> (uint16_t frame1, uint16_t frame2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if _frame1 is less than or equal to _frame2.  <a href="#a65"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a66">dwc_frame_num_gt</a> (uint16_t frame1, uint16_t frame2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if _frame1 is greater than _frame2.  <a href="#a66"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8h.html#a67">dwc_frame_num_inc</a> (uint16_t frame, uint16_t inc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increments _frame by the amount specified by _inc.  <a href="#a67"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a68" doxytag="dwc_otg_hcd.h::dwc_full_frame_num"></a>
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_full_frame_num</b> (uint16_t frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a69" doxytag="dwc_otg_hcd.h::dwc_micro_frame_num"></a>
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_micro_frame_num</b> (uint16_t frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a70" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_save_data_toggle"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dwc_otg_hcd_save_data_toggle</b> (<a class="el" href="structdwc__hc.html">dwc_hc_t</a> *hc, <a class="el" href="structdwc__otg__hc__regs.html">dwc_otg_hc_regs_t</a> *hc_regs, <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *qtd)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains the structures, constants, and interfaces for the Host Contoller Driver (HCD). 
<p>
The Host Controller Driver (HCD) is responsible for translating requests from the USB Driver into the appropriate actions on the DWC_otg controller. It isolates the USBD from the specifics of the controller by providing an API to the USBD.
<p>
Definition in file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a3" doxytag="dwc_otg_hcd.h::dwc_qh_is_non_per"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define dwc_qh_is_non_per          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">_qh_ptr_&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">((_qh_ptr_-&gt;ep_type == UE_BULK) || \
                                     (_qh_ptr_-&gt;ep_type == UE_CONTROL))
</pre></div>Check if QH is non-periodic. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00711">711</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a9" doxytag="dwc_otg_hcd.h::dwc_otg_qtd_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd</a>  <a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A Queue Transfer Descriptor (QTD) holds the state of a bulk, control, interrupt, or isochronous transfer. 
<p>
A single QTD is created for each URB (of one of these types) submitted to the HCD. The transfer associated with a QTD may require one or multiple transactions.<p>
A QTD is linked to a Queue Head, which is entered in either the non-periodic or periodic schedule for execution. When a QTD is chosen for execution, some or all of its transactions may be executed. After execution, the state of the QTD is updated. The QTD may be retired if all its transactions are complete or if an error occurred. Otherwise, it remains in the schedule so more transactions can be executed later.     </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="dwc_otg_hcd.h::dwc_otg_qh_t"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh</a>  <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A Queue Head (QH) holds the static characteristics of an endpoint and maintains a list of transfers (QTDs) for that endpoint. 
<p>
A QH structure may be entered in either the non-periodic or periodic schedule.     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a31" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_select_transactions"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="dwc__otg__hcd_8h.html#a8">dwc_otg_transaction_type_e</a> dwc_otg_hcd_select_transactions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function selects transactions from the HCD transfer schedule and assigns them to available host channels. 
<p>
It is called from HCD interrupt handler functions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The types of new transactions that were assigned to host channels. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01168">1168</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_queue_transactions"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_queue_transactions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="dwc__otg__hcd_8h.html#a8">dwc_otg_transaction_type_e</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>tr_type</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function processes the currently active host channels and queues transactions for these channels to the DWC_otg controller. 
<p>
It is called from HCD interrupt handler functions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tr_type</em>&nbsp;</td><td>The type(s) of transactions to queue (non-periodic, periodic, or both). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01540">1540</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function handles interrupts for the HCD. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Implement i2cintr handler.</dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00043">43</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_sof_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_sof_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles the start-of-frame interrupt in host mode. 
<p>
Non-periodic transactions may be queued to the DWC_otg controller for the current (micro)frame. Periodic transactions may be queued to the controller for the next (micro)frame. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00175">175</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_rx_status_q_level_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_rx_status_q_level_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles the Rx Status Queue Level Interrupt, which indicates that there is at least one packet in the Rx FIFO. 
<p>
The packets are moved from the FIFO to memory if the DWC_otg controller is operating in Slave mode. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00228">228</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_np_tx_fifo_empty_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_np_tx_fifo_empty_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This interrupt occurs when the non-periodic Tx FIFO is half-empty. 
<p>
More data packets may be written to the FIFO for OUT transfers. More requests may be written to the non-periodic request queue for IN transfers. This interrupt is enabled only in Slave mode. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00281">281</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_perio_tx_fifo_empty_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_perio_tx_fifo_empty_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This interrupt occurs when the periodic Tx FIFO is half-empty. 
<p>
More data packets may be written to the FIFO for OUT transfers. More requests may be written to the periodic request queue for IN transfers. This interrupt is enabled only in Slave mode. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00293">293</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_port_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_port_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
There are multiple conditions that can cause a port interrupt. 
<p>
This function determines which interrupt conditions have occurred and handles them appropriately.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd><ul>
<li>check if steps performed in 'else' block should be perfromed regardles adp</li></ul>
</dd></dl>
<p>
Overcurrent Change Interrupt 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00304">304</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_handle_hc_intr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int32_t dwc_otg_hcd_handle_hc_intr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwc_otg_hcd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This interrupt indicates that one or more host channels has a pending interrupt. 
<p>
There are multiple conditions that can cause each host channel interrupt. This function determines which conditions have occurred for each host channel interrupt and handles them appropriately. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__intr_8c-source.html#l00493">493</a> of file <a class="el" href="dwc__otg__hcd__intr_8c-source.html">dwc_otg_hcd_intr.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_create"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a>* dwc_otg_hcd_qh_create           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dwc_otg_hcd_urb_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>urb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>atomic_alloc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function allocates and initializes a QH. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure for the DWC OTG controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urb</em>&nbsp;</td><td>Holds the information about the device/endpoint that we need to initialize the QH. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>atomic_alloc</em>&nbsp;</td><td>Flag to do atomic allocation if needed</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns pointer to the newly allocated QH, or NULL on error.</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>add memflags argument</dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00290">290</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_free"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qh_free           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free each QTD in the QH's QTD-list then free the QH. 
<p>
QH should already be removed from a list. QTD list should already be empty if called from URB Dequeue.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>HCD instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>The QH to free. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00053">53</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_add"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int dwc_otg_hcd_qh_add           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function adds a QH to either the non periodic or periodic schedule if it is not already in the schedule. 
<p>
If the QH is already in the schedule, no action is taken.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 if successful, negative error code otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00468">468</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_remove"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qh_remove           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a QH from either the non-periodic or periodic schedule. 
<p>
Memory is not freed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>QH to remove from schedule. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00519">519</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_deactivate"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qh_deactivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>sched_next_periodic_split</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deactivates a QH. 
<p>
For non-periodic QHs, removes the QH from the active non-periodic schedule. The QH is added to the inactive non-periodic schedule if any QTDs are still attached to the QH.<p>
For periodic QHs, the QH is removed from the periodic queued schedule. If there are any QTDs still attached to the QH, the QH is added to either the periodic inactive schedule or the periodic ready schedule and its next scheduled frame is calculated. The QH is placed in the ready schedule if the scheduled frame has been reached already. Otherwise it's placed in the inactive schedule. If there are no QTDs attached to the QH, the QH is completely removed from the periodic schedule. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00558">558</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a52" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_alloc"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a>* dwc_otg_hcd_qh_alloc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>atomic_alloc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocates memory for a QH structure. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the memory allocate or NULL on error. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00622">622</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a53" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_create"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a>* dwc_otg_hcd_qtd_create           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">dwc_otg_hcd_urb_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>urb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>atomic_alloc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function allocates and initializes a QTD. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>urb</em>&nbsp;</td><td>The URB to create a QTD from. Each URB-QTD pair will end up pointing to each other so each pair should have a unique correlation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>atomic_alloc</em>&nbsp;</td><td>Flag to do atomic alloc if needed</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns pointer to the newly allocated QTD, or NULL on error. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00638">638</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a54" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qtd_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qtd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dwc_otg_hcd_urb_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>urb</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes a QTD structure. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qtd</em>&nbsp;</td><td>The QTD to initialize. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urb</em>&nbsp;</td><td>The URB to use for initialization. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00656">656</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a55" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_add"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int dwc_otg_hcd_qtd_add           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qtd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>atomic_alloc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function adds a QTD to the QTD-list of a QH. 
<p>
It will find the correct QH to place the QTD into. If it does not find a QH, then it will create a new QH. If the QH to which the QTD is added is not currently scheduled, it is placed into the proper schedule based on its EP type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>qtd</em>&nbsp;</td><td>The QTD to add </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hcd</em>&nbsp;</td><td>The DWC HCD structure </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>qh</em>&nbsp;</td><td>out parameter to return queue head </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>atomic_alloc</em>&nbsp;</td><td>Flag to do atomic alloc if needed</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if successful, negative error code otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__queue_8c-source.html#l00694">694</a> of file <a class="el" href="dwc__otg__hcd__queue_8c-source.html">dwc_otg_hcd_queue.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a56" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_alloc"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a>* dwc_otg_hcd_qtd_alloc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>atomic_alloc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocates memory for a QTD structure. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the memory allocate or NULL on error. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00638">638</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a57" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_free"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qtd_free           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>qtd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Frees the memory for a QTD structure. 
<p>
QTD should already be removed from list. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qtd</em>&nbsp;</td><td>QTD to free. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00649">649</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a58" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qtd_remove"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qtd_remove           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qtd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a QTD from list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>HCD instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qtd</em>&nbsp;</td><td>QTD to remove from list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>QTD belongs to. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00659">659</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_start_xfer_ddma"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_start_xfer_ddma           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For Control and Bulk endpoints initializes descriptor list and starts the transfer. 
<p>
For Interrupt and Isochronous endpoints initializes descriptor list then updates FrameList, marking appropriate entries as active. In case of Isochronous, the starting descriptor index is calculated based on the scheduled frame, but only on the first transfer descriptor within a session. Then starts the transfer via enabling the channel. For Isochronous endpoint the channel is not halted on XferComplete interrupt so remains assigned to the endpoint(QH) until session is done.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure for the DWC OTG controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>The QH to init.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if successful, negative error code otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__ddma_8c-source.html#l00702">702</a> of file <a class="el" href="dwc__otg__hcd__ddma_8c-source.html">dwc_otg_hcd_ddma.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a61" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_complete_xfer_ddma"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_complete_xfer_ddma           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__hc.html">dwc_hc_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__hc__regs.html">dwc_otg_hc_regs_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hc_regs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>dwc_otg_halt_status_e&nbsp;</td>
          <td class="mdname" nowrap> <em>halt_status</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is called from interrupt handlers. 
<p>
Scans the descriptor list, updates URB's status and calls completion routine for the URB if it's done. Releases the channel to be used by other transfers. In case of Isochronous endpoint the channel is not halted until the end of the session, i.e. QTD list is empty. If periodic channel released the FrameList is updated accordingly.<p>
Calls transaction selection routines to activate pending transfers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure for the DWC OTG controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hc</em>&nbsp;</td><td>Host channel, the transfer is completed on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hc_regs</em>&nbsp;</td><td>Host channel registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>halt_status</em>&nbsp;</td><td>Reason the channel is being halted, or just XferComplete for isochronous transfer</td></tr>
  </table>
</dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Consider the case when period exceeds FrameList size. Frame Rollover interrupt should be used. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__ddma_8c-source.html#l01062">1062</a> of file <a class="el" href="dwc__otg__hcd__ddma_8c-source.html">dwc_otg_hcd_ddma.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_init_ddma"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int dwc_otg_hcd_qh_init_ddma           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes a QH structure's Descriptor DMA related members. 
<p>
Allocates memory for descriptor list. On first periodic QH, allocates memory for FrameList and enables periodic scheduling.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure for the DWC OTG controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>The QH to init.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if successful, negative error code otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__ddma_8c-source.html#l00312">312</a> of file <a class="el" href="dwc__otg__hcd__ddma_8c-source.html">dwc_otg_hcd_ddma.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a63" doxytag="dwc_otg_hcd.h::dwc_otg_hcd_qh_free_ddma"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void dwc_otg_hcd_qh_free_ddma           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>qh</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Frees descriptor list memory associated with the QH. 
<p>
If QH is periodic and the last, frees FrameList memory and disables periodic scheduling.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure for the DWC OTG controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>The QH to init. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd__ddma_8c-source.html#l00346">346</a> of file <a class="el" href="dwc__otg__hcd__ddma_8c-source.html">dwc_otg_hcd_ddma.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a65" doxytag="dwc_otg_hcd.h::dwc_frame_num_le"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int dwc_frame_num_le           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>frame1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>frame2</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if _frame1 is less than or equal to _frame2. 
<p>
The comparison is done modulo DWC_HFNUM_MAX_FRNUM. This accounts for the rollover of the frame number when the max frame number is reached. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00725">725</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a66" doxytag="dwc_otg_hcd.h::dwc_frame_num_gt"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int dwc_frame_num_gt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>frame1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>frame2</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if _frame1 is greater than _frame2. 
<p>
The comparison is done modulo DWC_HFNUM_MAX_FRNUM. This accounts for the rollover of the frame number when the max frame number is reached. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00736">736</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a67" doxytag="dwc_otg_hcd.h::dwc_frame_num_inc"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint16_t dwc_frame_num_inc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>frame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>inc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Increments _frame by the amount specified by _inc. 
<p>
The addition is done modulo DWC_HFNUM_MAX_FRNUM. Returns the incremented value. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00747">747</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 27 03:56:38 2011 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>

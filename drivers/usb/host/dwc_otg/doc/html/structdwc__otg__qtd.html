<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_otg_qtd Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dwc_otg_qtd Struct Reference</h1>A Queue Transfer Descriptor (QTD) holds the state of a bulk, control, interrupt, or isochronous transfer.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="dwc_otg_qtd::DWC_CIRCLEQ_ENTRY"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#a0">DWC_CIRCLEQ_ENTRY</a> (<a class="el" href="structdwc__otg__qtd.html">dwc_otg_qtd</a>) qtd_list_entry</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This list of QTDs. <br></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o0">data_toggle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines the PID of the next data packet for the data phase of control transfers.  <a href="#o0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o1" doxytag="dwc_otg_qtd::control_phase"></a>
<a class="el" href="dwc__otg__hcd_8h.html#a7">dwc_otg_control_phase_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o1">control_phase</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current phase for control transfers (Setup, Data, or Status). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o2" doxytag="dwc_otg_qtd::complete_split"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o2">complete_split</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keep track of the current split type for FS/LS endpoints on a HS Hub. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o3" doxytag="dwc_otg_qtd::ssplit_out_xfer_count"></a>
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o3">ssplit_out_xfer_count</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">How many bytes transferred during SSPLIT OUT. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o4">error_count</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Holds the number of bus errors that have occurred for a transaction within this transfer.  <a href="#o4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o5">isoc_frame_index</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index of the next frame descriptor for an isochronous transfer.  <a href="#o5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o6" doxytag="dwc_otg_qtd::isoc_split_pos"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o6">isoc_split_pos</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Position of the ISOC split on full/low speed. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o7" doxytag="dwc_otg_qtd::isoc_split_offset"></a>
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o7">isoc_split_offset</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Position of the ISOC split in the buffer for the current frame. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o8" doxytag="dwc_otg_qtd::urb"></a>
dwc_otg_hcd_urb *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o8">urb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">URB for this transfer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o9" doxytag="dwc_otg_qtd::qh"></a>
<a class="el" href="structdwc__otg__qh.html">dwc_otg_qh</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>qh</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o10" doxytag="dwc_otg_qtd::in_process"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o10">in_process</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates if this QTD is currently processed by HW. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o11" doxytag="dwc_otg_qtd::n_desc"></a>
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o11">n_desc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of DMA descriptors for this QTD. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qtd.html#o12">isoc_frame_index_last</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last activated frame(packet) index.  <a href="#o12"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A Queue Transfer Descriptor (QTD) holds the state of a bulk, control, interrupt, or isochronous transfer. 
<p>
A single QTD is created for each URB (of one of these types) submitted to the HCD. The transfer associated with a QTD may require one or multiple transactions.<p>
A QTD is linked to a Queue Head, which is entered in either the non-periodic or periodic schedule for execution. When a QTD is chosen for execution, some or all of its transactions may be executed. After execution, the state of the QTD is updated. The QTD may be retired if all its transactions are complete or if an error occurred. Otherwise, it remains in the schedule so more transactions can be executed later. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00192">192</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.<hr><h2>Field Documentation</h2>
<a class="anchor" name="o0" doxytag="dwc_otg_qtd::data_toggle"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint8_t <a class="el" href="structdwc__otg__qtd.html#o0">dwc_otg_qtd::data_toggle</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines the PID of the next data packet for the data phase of control transfers. 
<p>
Ignored for other transfer types.<br>
 One of the following values:<ul>
<li>DWC_OTG_HC_PID_DATA0</li><li>DWC_OTG_HC_PID_DATA1</li></ul>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00200">200</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o4" doxytag="dwc_otg_qtd::error_count"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint8_t <a class="el" href="structdwc__otg__qtd.html#o4">dwc_otg_qtd::error_count</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Holds the number of bus errors that have occurred for a transaction within this transfer. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00216">216</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o5" doxytag="dwc_otg_qtd::isoc_frame_index"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint16_t <a class="el" href="structdwc__otg__qtd.html#o5">dwc_otg_qtd::isoc_frame_index</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Index of the next frame descriptor for an isochronous transfer. 
<p>
A frame descriptor describes the buffer position and length of the data to be transferred in the next scheduled (micro)frame of an isochronous transfer. It also holds status for that transaction. The frame index starts at 0.
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00225">225</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="o12" doxytag="dwc_otg_qtd::isoc_frame_index_last"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint16_t <a class="el" href="structdwc__otg__qtd.html#o12">dwc_otg_qtd::isoc_frame_index_last</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Last activated frame(packet) index. 
<p>
Used in Descriptor DMA mode only.
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00251">251</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 27 03:56:38 2011 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
